# åŒ»ç¾æ™ºèƒ½è¥é”€ç®¡ç†ç³»ç»Ÿ

ä¸€å¥—å®Œæ•´çš„åŒ»ç¾è¡Œä¸šæ™ºèƒ½è¥é”€ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œæ•´åˆäº†å®¢æˆ·å…³ç³»ç®¡ç†ï¼ˆCRMï¼‰ã€å†…å®¹è¥é”€ã€è‡ªåŠ¨åŒ–è§¦å‘ã€æ•°æ®åˆ†æç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œæ—¨åœ¨å®ç°ä»å…¬åŸŸå¼•æµåˆ°ç§åŸŸè½¬åŒ–çš„å…¨æµç¨‹æ™ºèƒ½åŒ–ç®¡ç†ã€‚

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¤– AIæ™ºèƒ½å®¢æœ
- åŸºäº DeepSeek çš„24å°æ—¶åœ¨çº¿AIå®¢æœ
- è‡ªåŠ¨æ£€ç´¢çŸ¥è¯†åº“æä¾›ä¸“ä¸šå›ç­”
- è‡ªåŠ¨æå–å®¢æˆ·ä¿¡æ¯ï¼ˆå§“åã€æ‰‹æœºã€å¾®ä¿¡ã€å…´è¶£é¡¹ç›®ï¼‰
- å¯¹è¯è‡ªåŠ¨åŒæ­¥åˆ° Airtable CRM
- åŸºäºå®¢æˆ·å†å²è®°å½•æä¾›ä¸ªæ€§åŒ–æœåŠ¡

### ğŸ“Š ç»Ÿä¸€ç®¡ç†åå°
- ä¾§è¾¹æ å¯¼èˆªè®¾è®¡ï¼ˆé…ç½®ã€åˆ†æã€å¯¹è¯ã€å†…å®¹ã€å®¢æˆ·ï¼‰
- æ•°æ®æ¦‚è§ˆçœ‹æ¿
- å¿«æ·æ“ä½œå…¥å£
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯

### ğŸ“š åŒçŸ¥è¯†åº“ç³»ç»Ÿ
- å®¢æˆ·é—®è¯¢çŸ¥è¯†åº“ï¼ˆé¡¹ç›®ä»‹ç»ã€FAQã€æ³¨æ„äº‹é¡¹ã€ä»·æ ¼æ”¿ç­–ï¼‰
- å†…éƒ¨ç®¡ç†çŸ¥è¯†åº“ï¼ˆé”€å”®è¯æœ¯ã€å¿ƒç†åˆ†æã€å¼‚è®®å¤„ç†ã€æˆäº¤æŠ€å·§ï¼‰
- çŸ¥è¯†åº“åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†
- ä½¿ç”¨ç»Ÿè®¡å’Œåˆ†æ

### âœï¸ å†…å®¹è¥é”€ç³»ç»Ÿ
- ä¸€é”®ç”Ÿæˆå°çº¢ä¹¦çˆ½æ–‡
- æ”¯æŒå¤šç§å†…å®¹ç±»å‹ï¼ˆä½“éªŒåˆ†äº«ã€æ•ˆæœå¯¹æ¯”ã€ä»·æ ¼æ­ç§˜ã€é¿å‘æŒ‡å—ã€èŠ‚æ—¥è¥é”€ï¼‰
- æ”¯æŒå¤šç§è¯­æ°”é£æ ¼ï¼ˆçƒ­æƒ…æ´‹æº¢ã€ä¸“ä¸šä¸¥è°¨ã€è½»æ¾éšæ„ï¼‰
- è‡ªåŠ¨ç”Ÿæˆé…å›¾
- ä¸€é”®å¤åˆ¶åˆ°å‰ªè´´æ¿

### ğŸ‘¥ å®¢æˆ·ç”»åƒå¢å¼º
- å¿ƒç†æ ‡ç­¾è‡ªåŠ¨è¯†åˆ«ï¼ˆææƒ§å‹ã€è´ªå©ªå‹ã€å®‰å…¨å‹ã€æ•æ„Ÿå‹ï¼‰
- å®¢æˆ·åˆ†å±‚åˆ†çº§ï¼ˆA/B/C/Dçº§ï¼‰
- æ¶ˆè´¹èƒ½åŠ›è¯„ä¼°
- é‡è¦äº‹ä»¶æ ‡è®°å’Œæé†’

### ğŸ“± å°çº¢ä¹¦è¿è¥ç®¡ç†
- å†…å®¹å‘å¸ƒç®¡ç†
- æ•°æ®ç›‘æ§ï¼ˆé˜…è¯»é‡ã€ç‚¹èµã€è¯„è®ºã€åˆ†äº«ã€æ”¶è—ï¼‰
- å†…å®¹ç­›é€‰ï¼ˆå·²å‘å¸ƒ/å¾…å‘å¸ƒ/è‰ç¨¿ï¼‰
- çˆ†æ¬¾å†…å®¹åˆ†æ

### âš¡ è‡ªåŠ¨åŒ–è§¦å‘ç³»ç»Ÿ
- æ—¶é—´è§¦å‘ï¼ˆç”Ÿæ—¥ã€èŠ‚å‡æ—¥ã€å›è®¿ã€å¤è´­ï¼‰
- è¡Œä¸ºè§¦å‘ï¼ˆæµå¤±é¢„è­¦ã€é«˜ä»·å€¼è¯†åˆ«ï¼‰
- å¤©æ°”è§¦å‘ï¼ˆé™æ¸©ã€å°é£ã€é«˜æ¸©ã€ç©ºæ°”è´¨é‡ï¼‰
- å¤šç§è§¦å‘åŠ¨ä½œï¼ˆä¼ä¸šå¾®ä¿¡æ¨é€ã€AIä¸»åŠ¨å¯¹è¯ã€åˆ†é…é¡¾é—®ï¼‰

### ğŸ”„ Airtable åŒå‘é›†æˆ
- çº¿ç´¢è‡ªåŠ¨åŒæ­¥
- å®¢æˆ·ä¿¡æ¯è¯»å–
- è·Ÿè¿›è®°å½•ç®¡ç†
- å®æ—¶æ•°æ®åŒæ­¥

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯
- **React 19** + **TypeScript**
- **Tailwind CSS 4** + **shadcn/ui**
- **tRPC**ï¼ˆç±»å‹å®‰å…¨çš„ API è°ƒç”¨ï¼‰
- **Wouter**ï¼ˆè·¯ç”±ï¼‰
- **React Query**ï¼ˆçŠ¶æ€ç®¡ç†ï¼‰

### åç«¯
- **Node.js** + **Express**
- **tRPC Server**
- **MySQL/TiDB**ï¼ˆæ•°æ®åº“ï¼‰
- **Node-cron**ï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰

### AI é›†æˆ
- **DeepSeek API**ï¼ˆå®¢æˆ·ç«¯ AI å®¢æœï¼‰
- **Qwen API**ï¼ˆåå°æ•°æ®åˆ†æï¼‰

### ç¬¬ä¸‰æ–¹é›†æˆ
- **Airtable API**ï¼ˆCRM æ•°æ®åŒæ­¥ï¼‰
- **å’Œé£å¤©æ°” API**ï¼ˆå¤©æ°”è§¦å‘ï¼‰
- **ä¼ä¸šå¾®ä¿¡ Webhook**ï¼ˆæ¶ˆæ¯æ¨é€ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- MySQL >= 8.0
- npm æˆ– yarn

### å®‰è£…ä¾èµ–
\`\`\`bash
# å®‰è£…æ ¹ç›®å½•ä¾èµ–
npm install

# å®‰è£…å®¢æˆ·ç«¯ä¾èµ–
cd client && npm install
\`\`\`

### ç¯å¢ƒé…ç½®
\`\`\`bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡
nano .env
\`\`\`

### æ•°æ®åº“è®¾ç½®
\`\`\`bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
npm run db:migrate

# æ’å…¥æµ‹è¯•æ•°æ®ï¼ˆå¯é€‰ï¼‰
npm run db:seed
\`\`\`

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
\`\`\`bash
# åŒæ—¶å¯åŠ¨å‰åç«¯å¼€å‘æœåŠ¡å™¨
npm run dev

# æˆ–åˆ†åˆ«å¯åŠ¨
npm run dev:server  # åç«¯æœåŠ¡å™¨ (http://localhost:3001)
npm run dev:client  # å‰ç«¯æœåŠ¡å™¨ (http://localhost:3000)
\`\`\`

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
\`\`\`bash
npm run build
npm start
\`\`\`

## ğŸ“ é¡¹ç›®ç»“æ„

\`\`\`
medical-aesthetic-marketing-system/
â”œâ”€â”€ backend
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ src
â”‚       â”œâ”€â”€ controllers
â”‚       â”‚   â””â”€â”€ async.controller.ts
â”‚       â”œâ”€â”€ core
â”‚       â”‚   â””â”€â”€ queue
â”‚       â”‚       â””â”€â”€ core-queue.service.ts
â”‚       â”œâ”€â”€ models
â”‚       â”‚   â”œâ”€â”€ content.model.ts
â”‚       â”‚   â””â”€â”€ trigger.model.ts
â”‚       â”œâ”€â”€ pipelines
â”‚       â”‚   â””â”€â”€ data-pipeline.ts
â”‚       â”œâ”€â”€ routes
â”‚       â”‚   â”œâ”€â”€ rag.route.ts
â”‚       â”‚   â””â”€â”€ trpc
â”‚       â”‚       â”œâ”€â”€ admin.ts
â”‚       â”‚       â”œâ”€â”€ airtable.ts
â”‚       â”‚       â”œâ”€â”€ analytics.ts
â”‚       â”‚       â”œâ”€â”€ auth.ts
â”‚       â”‚       â”œâ”€â”€ chat.ts
â”‚       â”‚       â”œâ”€â”€ content.ts
â”‚       â”‚       â”œâ”€â”€ customers.ts
â”‚       â”‚       â”œâ”€â”€ knowledge.ts
â”‚       â”‚       â”œâ”€â”€ router.ts
â”‚       â”‚       â”œâ”€â”€ triggers.ts
â”‚       â”‚       â””â”€â”€ xiaohongshu.ts
â”‚       â”œâ”€â”€ services
â”‚       â”‚   â”œâ”€â”€ advanced-rag.service.ts
â”‚       â”‚   â”œâ”€â”€ ai.service.ts
â”‚       â”‚   â”œâ”€â”€ airtable.service.ts
â”‚       â”‚   â”œâ”€â”€ buffer.service.ts
â”‚       â”‚   â”œâ”€â”€ data-pipeline-engine.service.ts
â”‚       â”‚   â”œâ”€â”€ image.service.ts
â”‚       â”‚   â”œâ”€â”€ knowledge-sync.service.ts
â”‚       â”‚   â”œâ”€â”€ queue
â”‚       â”‚   â”‚   â””â”€â”€ business-queue.service.ts
â”‚       â”‚   â”œâ”€â”€ queue.service.ts
â”‚       â”‚   â”œâ”€â”€ rag.service.ts
â”‚       â”‚   â”œâ”€â”€ schema-registry.service.ts
â”‚       â”‚   â”œâ”€â”€ semantic-understanding.service.ts
â”‚       â”‚   â”œâ”€â”€ trigger-engine.service.ts
â”‚       â”‚   â”œâ”€â”€ trigger.service.ts
â”‚       â”‚   â”œâ”€â”€ weather.service.ts
â”‚       â”‚   â”œâ”€â”€ websocket
â”‚       â”‚   â”‚   â””â”€â”€ queue-status.service.ts
â”‚       â”‚   â””â”€â”€ wechat.service.ts
â”‚       â””â”€â”€ utils
â”‚           â””â”€â”€ logger.ts
â”œâ”€â”€ database
â”‚   â”œâ”€â”€ init.sql
â”‚   â””â”€â”€ migrate.sql
â”œâ”€â”€ docker-compose.data-pipeline.yml
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ ecosystem.config.js
â”œâ”€â”€ frontend
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ src
â”‚       â”œâ”€â”€ components
â”‚       â”‚   â”œâ”€â”€ async
â”‚       â”‚   â”‚   â””â”€â”€ AsyncTaskMonitor.tsx
â”‚       â”‚   â”œâ”€â”€ content
â”‚       â”‚   â”‚   â””â”€â”€ ImageGenerator.tsx
â”‚       â”‚   â”œâ”€â”€ data-pipeline
â”‚       â”‚   â”‚   â””â”€â”€ DataPipelineManager.tsx
â”‚       â”‚   â”œâ”€â”€ layout
â”‚       â”‚   â”‚   â””â”€â”€ DashboardLayout.tsx
â”‚       â”‚   â””â”€â”€ rag
â”‚       â”‚       â””â”€â”€ RAGManagement.tsx
â”‚       â””â”€â”€ pages
â”‚           â””â”€â”€ dashboard
â”‚               â”œâ”€â”€ admin.tsx
â”‚               â”œâ”€â”€ analytics.tsx
â”‚               â”œâ”€â”€ config.tsx
â”‚               â”œâ”€â”€ content
â”‚               â”‚   â”œâ”€â”€ index.tsx
â”‚               â”‚   â””â”€â”€ templates.tsx
â”‚               â”œâ”€â”€ conversations.tsx
â”‚               â”œâ”€â”€ customers.tsx
â”‚               â”œâ”€â”€ index.tsx
â”‚               â”œâ”€â”€ knowledge.tsx
â”‚               â”œâ”€â”€ triggers.tsx
â”‚               â”œâ”€â”€ wechat.tsx
â”‚               â””â”€â”€ xiaohongshu.tsx
â””â”€â”€ prometheus
    â”œâ”€â”€ alerts.yml
    â””â”€â”€ prometheus.yml
\`\`\`

## âœ… å®æ–½è®¡åˆ’è¦†ç›–ç‡æ‘˜è¦

ä»¥ä¸‹ç»Ÿè®¡åŸºäº `plan_parsed_files.json`ï¼ˆä»¥å®æ–½è®¡åˆ’ä¸ºå‡†ï¼‰ç”Ÿæˆï¼š

- æ€»æ–‡ä»¶æ•°ï¼š61
- ç¼ºå¤±é¡¹ï¼š0

æŒ‰æ¨¡å—åˆ†å¸ƒï¼š

- å‰ç«¯ï¼š18
- åç«¯ï¼š36
- æ•°æ®åº“ï¼š2
- é…ç½®/éƒ¨ç½²ï¼š5

æŒ‰ç±»å‹åˆ†å¸ƒï¼š

- TypeScriptï¼š35
- TSXï¼š17
- YAMLï¼š4
- SQLï¼š2
- Dockerfileï¼š2
- JavaScriptï¼š1

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### AIå®¢æœä½¿ç”¨
1. è®¿é—® \`/chat\` é¡µé¢
2. è¾“å…¥åŒ»ç¾ç›¸å…³é—®é¢˜
3. AIä¼šè‡ªåŠ¨æ£€ç´¢çŸ¥è¯†åº“å¹¶å›ç­”
4. å¦‚æœ‰æ‰‹æœºå·ç­‰ä¿¡æ¯ä¼šè‡ªåŠ¨è®°å½•ä¸ºçº¿ç´¢

### ç®¡ç†åå°ä½¿ç”¨
1. è®¿é—® \`/dashboard\` è¿›å…¥ç®¡ç†åå°
2. é…ç½® Airtable å’Œ API å¯†é’¥
3. ç®¡ç†çŸ¥è¯†åº“å†…å®¹
4. æŸ¥çœ‹æ•°æ®åˆ†ææŠ¥å‘Š
5. ç”Ÿæˆè¥é”€å†…å®¹

### å†…å®¹ç”Ÿæˆä½¿ç”¨
1. è¿›å…¥"å†…å®¹ç”Ÿæˆ"é¡µé¢
2. é€‰æ‹©é¡¹ç›®ç±»å‹å’Œå†…å®¹ç±»å‹
3. è®¾ç½®è¯­æ°”é£æ ¼
4. ç‚¹å‡»"ä¸€é”®ç”Ÿæˆ"
5. å¤åˆ¶å†…å®¹åˆ°å°çº¢ä¹¦å‘å¸ƒ

## ğŸ”§ é…ç½®è¯´æ˜

### APIå¯†é’¥é…ç½®
- **DeepSeek API Key**: ç”¨äºAIå®¢æœå¯¹è¯
- **Qwen API Key**: ç”¨äºæ•°æ®åˆ†æå’Œå†…å®¹ç”Ÿæˆ
- **Airtable API Key**: ç”¨äºCRMæ•°æ®åŒæ­¥

### æ•°æ®åº“é…ç½®
ç³»ç»Ÿä½¿ç”¨MySQLæ•°æ®åº“ï¼Œæ”¯æŒä»¥ä¸‹è¡¨ç»“æ„ï¼š
- \`users\` - ç”¨æˆ·è¡¨
- \`leads\` - çº¿ç´¢è¡¨
- \`conversations\` - å¯¹è¯è¡¨
- \`messages\` - æ¶ˆæ¯è¡¨
- \`knowledge_base\` - çŸ¥è¯†åº“è¡¨
- \`content_posts\` - å†…å®¹å‘å¸ƒè¡¨
- \`xiaohongshu_posts\` - å°çº¢ä¹¦å‘å¸ƒè¡¨
- \`trigger_rules\` - è§¦å‘è§„åˆ™è¡¨

## ğŸ“Š åŠŸèƒ½æ¨¡å—

### æ•°æ®åˆ†æ
- å®æ—¶è®¿é—®ç»Ÿè®¡ï¼ˆPV/UVï¼‰
- å¯¹è¯è½¬åŒ–ç‡åˆ†æ
- çº¿ç´¢æ¥æºåˆ†æ
- å®¢æˆ·ç”»åƒåˆ†å¸ƒ

### å®¢æˆ·ç®¡ç†
- å®¢æˆ·åˆ—è¡¨å’Œæœç´¢
- å®¢æˆ·åˆ†å±‚åˆ†çº§
- å¿ƒç†ç±»å‹åˆ†æ
- æ¶ˆè´¹è®°å½•è¿½è¸ª

### è‡ªåŠ¨åŒ–è¥é”€
- ç”Ÿæ—¥æé†’
- èŠ‚å‡æ—¥è¥é”€
- å¤©æ°”è§¦å‘è¥é”€
- æµå¤±é¢„è­¦

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç 
4. å‘èµ· Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ†˜ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚

---

**æ·±åœ³å¦ç¾åŒ»ç–—ç¾å®¹é—¨è¯Šéƒ¨** - ä¸“ä¸šåŒ»ç¾æ™ºèƒ½è¥é”€è§£å†³æ–¹æ¡ˆ
