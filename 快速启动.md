# ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

## âœ… å½“å‰çŠ¶æ€

- âœ… ä»£ç å·²è¿ç§»åˆ° PostgreSQL + pgvector
- âœ… TypeScript ç¼–è¯‘é€šè¿‡
- âœ… æœåŠ¡å™¨å·²å¯åŠ¨ï¼ˆhttp://localhost:3000ï¼‰
- âš ï¸ éœ€è¦åˆå§‹åŒ–æ•°æ®åº“

## ğŸ“‹ æ•°æ®åº“åˆå§‹åŒ–ï¼ˆ3ç§æ–¹å¼ä»»é€‰å…¶ä¸€ï¼‰

### æ–¹å¼1ï¼šä½¿ç”¨SQLè„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# 1. åˆ›å»ºæ•°æ®åº“ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
sudo -u postgres psql -c "CREATE DATABASE medical_beauty_crm;"

# 2. æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬
sudo -u postgres psql -d medical_beauty_crm -f scripts/init-database.sql
```

### æ–¹å¼2ï¼šä½¿ç”¨Drizzleè¿ç§»

```bash
# ç¡®ä¿ .env ä¸­çš„ DATABASE_URL æ­£ç¡®
# ç„¶åè¿è¡Œï¼š
npm run db:push
```

### æ–¹å¼3ï¼šæ‰‹åŠ¨è¿æ¥PostgreSQL

```bash
# è¿æ¥åˆ°PostgreSQL
sudo -u postgres psql

# åœ¨psqlä¸­æ‰§è¡Œï¼š
CREATE DATABASE medical_beauty_crm;
\c medical_beauty_crm
\i scripts/init-database.sql
\q
```

## ğŸ”§ æ£€æŸ¥æ•°æ®åº“è¿æ¥

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œç¡®ä¿ `DATABASE_URL` æ­£ç¡®ï¼š

```env
# å¦‚æœä½¿ç”¨postgresç”¨æˆ·ï¼ˆéœ€è¦å¯†ç ï¼‰
DATABASE_URL=postgresql://postgres:ä½ çš„å¯†ç @localhost:5432/medical_beauty_crm

# å¦‚æœä½¿ç”¨å½“å‰ç³»ç»Ÿç”¨æˆ·ï¼ˆpeerè®¤è¯ï¼‰
DATABASE_URL=postgresql://l@localhost:5432/medical_beauty_crm

# å¦‚æœä½¿ç”¨socketè¿æ¥
DATABASE_URL=postgresql:///medical_beauty_crm
```

## ğŸ¯ éªŒè¯ç³»ç»Ÿ

1. **æ£€æŸ¥æ•°æ®åº“è¡¨**
   ```bash
   psql $DATABASE_URL -c "\dt"
   ```

2. **æ£€æŸ¥æœåŠ¡å™¨**
   ```bash
   curl http://localhost:3000
   ```

3. **è®¿é—®å‰ç«¯**
   æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000

## ğŸ“ å·²é…ç½®çš„åŠŸèƒ½

- âœ… Airtable API Key: `patEJHiiGQRBKSgBQ`
- âœ… Airtable Base ID: `appkA4QaGKyrdr684`
- âœ… DeepSeek API Key: å·²é…ç½®
- âœ… ä¼ä¸šå¾®ä¿¡ Webhook: å·²å®ç°

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šPostgreSQLè¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥PostgreSQLæ˜¯å¦è¿è¡Œ
sudo systemctl status postgresql

# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨æœåŠ¡
sudo systemctl start postgresql

# æ£€æŸ¥è¿æ¥
psql -U postgres -d postgres
```

### é—®é¢˜2ï¼šæƒé™ä¸è¶³

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# ä½¿ç”¨sudoæ‰§è¡Œ
sudo -u postgres psql -d medical_beauty_crm -f scripts/init-database.sql
```

### é—®é¢˜3ï¼šæ•°æ®åº“å·²å­˜åœ¨

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# åˆ é™¤æ—§æ•°æ®åº“ï¼ˆè°¨æ…æ“ä½œï¼‰
sudo -u postgres psql -c "DROP DATABASE medical_beauty_crm;"

# é‡æ–°åˆ›å»º
sudo -u postgres psql -c "CREATE DATABASE medical_beauty_crm;"
```

## ğŸ‰ å®Œæˆåçš„åŠŸèƒ½

åˆå§‹åŒ–å®Œæˆåï¼Œä½ å¯ä»¥ä½¿ç”¨ï¼š

1. **AIå®¢æœå¯¹è¯** - å‰ç«¯èŠå¤©ç•Œé¢
2. **å®¢æˆ·ç®¡ç†** - çº¿ç´¢ã€ç”»åƒã€åˆ†å±‚
3. **çŸ¥è¯†åº“** - RAGæ£€ç´¢å¢å¼ºç”Ÿæˆ
4. **ä¼ä¸šå¾®ä¿¡** - Webhookæ¥æ”¶ã€æ¶ˆæ¯å‘é€
5. **AirtableåŒæ­¥** - CRMæ•°æ®åŒæ­¥
6. **è§¦å‘å™¨** - è‡ªåŠ¨åŒ–è¥é”€

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œæ£€æŸ¥ï¼š
1. PostgreSQLæœåŠ¡æ˜¯å¦è¿è¡Œ
2. `.env` æ–‡ä»¶ä¸­çš„ `DATABASE_URL` æ˜¯å¦æ­£ç¡®
3. æ•°æ®åº“ç”¨æˆ·æ˜¯å¦æœ‰è¶³å¤Ÿæƒé™
